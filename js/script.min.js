(()=>{"use strict";const e=document.querySelector(".features__slides");if(e){let t=0;e.style.left="0px",document.querySelector(".slide-prev").addEventListener("click",(()=>{const o=document.querySelector(".features__slide").offsetWidth;0!==t&&(t+=o),e.style.left=t+"px"})),document.querySelector(".slide-next").addEventListener("click",(()=>{const o=document.querySelectorAll(".features__slide").length-1,i=document.querySelector(".features__slide").offsetWidth;t>-1*i*o&&(t-=i),e.style.left=t+"px"}))}const t={type:"FeatureCollection",features:[{type:"Feature",id:0,geometry:{type:"Point",coordinates:[55.743637,37.539134]},properties:{balloonContent:"Красота и здоровье",position:1},options:{iconLayout:"default#image",iconImageHref:"http://localhost:4000/img/map/marker/healing.png",iconImageSize:[78,93],iconImageOffset:[-50,-55]}},{type:"Feature",id:1,geometry:{type:"Point",coordinates:[55.74444,37.542721]},properties:{balloonContent:"Отдых, развлечения",position:5},options:{iconLayout:"default#image",iconImageHref:"http://localhost:4000/img/map/marker/tea.png",iconImageSize:[78,93],iconImageOffset:[-50,-35]}},{type:"Feature",id:2,geometry:{type:"Point",coordinates:[55.745077,37.545334]},properties:{balloonContent:"Магазины",position:2},options:{iconLayout:"default#image",iconImageHref:"http://localhost:4000/img/map/marker/market.png",iconImageSize:[78,93],iconImageOffset:[-50,-35]}},{type:"Feature",id:3,geometry:{type:"Point",coordinates:[55.745657,37.548101]},properties:{balloonContent:"Обучение",position:3},options:{iconLayout:"default#image",iconImageHref:"http://localhost:4000/img/map/marker/school.png",iconImageSize:[78,93],iconImageOffset:[-40,-45]}},{type:"Feature",id:4,geometry:{type:"Point",coordinates:[55.748794,37.528822]},properties:{balloonContent:"Отдых, развлечения",position:5},options:{iconLayout:"default#image",iconImageHref:"http://localhost:4000/img/map/marker/tea.png",iconImageSize:[78,93],iconImageOffset:[-40,-45]}},{type:"Feature",id:5,geometry:{type:"Point",coordinates:[55.747965,37.527297]},properties:{balloonContent:"Магазины",position:2},options:{iconLayout:"default#image",iconImageHref:"http://localhost:4000/img/map/marker/market.png",iconImageSize:[78,93],iconImageOffset:[-40,-45]}},{type:"Feature",id:6,geometry:{type:"Point",coordinates:[55.746465,37.526724]},properties:{balloonContent:"Обучение",position:3},options:{iconLayout:"default#image",iconImageHref:"http://localhost:4000/img/map/marker/school.png",iconImageSize:[78,93],iconImageOffset:[-40,-45]}},{type:"Feature",id:7,geometry:{type:"Point",coordinates:[55.747076,37.528197]},properties:{balloonContent:"Отдых, развлечения",position:5},options:{iconLayout:"default#image",iconImageHref:"http://localhost:4000/img/map/marker/movie.png",iconImageSize:[78,93],iconImageOffset:[-40,-45]}},{type:"Feature",id:8,geometry:{type:"Point",coordinates:[55.745863,37.530984]},properties:{balloonContent:"Красота и здоровье",position:1},options:{iconLayout:"default#image",iconImageHref:"http://localhost:4000/img/map/marker/beauty.png",iconImageSize:[78,93],iconImageOffset:[-40,-45]}},{type:"Feature",id:9,geometry:{type:"Point",coordinates:[55.748576,37.533789]},properties:{balloonContent:"Магазины",position:2},options:{iconLayout:"default#image",iconImageHref:"http://localhost:4000/img/map/marker/market.png",iconImageSize:[78,93],iconImageOffset:[-40,-45]}},{type:"Feature",id:10,geometry:{type:"Point",coordinates:[55.749336,37.537838]},properties:{balloonContent:"Магазины",position:2},options:{iconLayout:"default#image",iconImageHref:"http://localhost:4000/img/map/marker/market.png",iconImageSize:[78,93],iconImageOffset:[-40,-45]}},{type:"Feature",id:11,geometry:{type:"Point",coordinates:[55.74758,37.537067]},properties:{balloonContent:"Красота и здоровье",position:1},options:{iconLayout:"default#image",iconImageHref:"http://localhost:4000/img/map/marker/healing.png",iconImageSize:[78,93],iconImageOffset:[-40,-45]}},{type:"Feature",id:12,geometry:{type:"Point",coordinates:[55.747017,37.535787]},properties:{balloonContent:"Отдых, развлечения",position:5},options:{iconLayout:"default#image",iconImageHref:"http://localhost:4000/img/map/marker/animal.png",iconImageSize:[78,93],iconImageOffset:[-40,-45]}},{type:"Feature",id:13,geometry:{type:"Point",coordinates:[55.747343,37.541923]},properties:{balloonContent:"Отдых, развлечения",position:5},options:{iconLayout:"default#image",iconImageHref:"http://localhost:4000/img/map/marker/tea.png",iconImageSize:[78,93],iconImageOffset:[-40,-45]}},{type:"Feature",id:14,geometry:{type:"Point",coordinates:[55.748458,37.539503]},properties:{balloonContent:"Детсад",position:4},options:{iconLayout:"default#image",iconImageHref:"http://localhost:4000/img/map/marker/baby.png",iconImageSize:[78,93],iconImageOffset:[-40,-45]}},{type:"Feature",id:15,geometry:{type:"Point",coordinates:[55.749464,37.543535]},properties:{balloonContent:"Детсад",position:4},options:{iconLayout:"default#image",iconImageHref:"http://localhost:4000/img/map/marker/baby.png",iconImageSize:[78,93],iconImageOffset:[-40,-45]}},{type:"Feature",id:16,geometry:{type:"Point",coordinates:[55.74681,37.538609]},properties:{balloonContent:"Детсад",position:4},options:{iconLayout:"default#image",iconImageHref:"http://localhost:4000/img/map/marker/baby.png",iconImageSize:[78,93],iconImageOffset:[-40,-45]}}]};function o(e,t){return{type:"FeatureCollection",features:e.features.filter((e=>e.properties.balloonContent===t))}}ymaps.ready((function(){var e=new ymaps.Map("map",{center:[55.74660592958217,37.5362368787333],zoom:15,controls:[]}),i=new ymaps.ObjectManager({clusterize:!1,gridSize:64,clusterIconLayout:"default#pieChart"});i.add(t),e.geoObjects.add(i);const a=document.querySelector(".map__category");(function(e){return function(e){return e.features.map((t=>({title:t.properties.balloonContent,position:t.properties.position,count:e.features.filter((e=>e.properties.balloonContent===t.properties.balloonContent)).length})))}(e).reduce(((e,t)=>(e.map[t.title]||(e.map[t.title]=!0,e.result.push(t)),e)),{map:{},result:[]}).result.sort(((e,t)=>e.position>t.position?1:-1))})(t).map((e=>a.insertAdjacentHTML("beforeend",`<button\n          class="category__item"\n          data-category="${e.title}"\n          data-checked="true"\n        >\n          ${e.title} <span>${e.count}</span>\n        </button>`))),a.addEventListener("click",(e=>{const a=e.target.closest(".category__item").dataset.category;"true"===e.target.closest(".category__item").dataset.checked?(e.target.closest(".category__item").dataset.checked=!1,i.remove(o(t,a))):(e.target.closest(".category__item").dataset.checked=!0,i.add(o(t,a)))}))})),function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}()})();